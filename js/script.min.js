var map=document.querySelector(".company-block__map");if(map){var mapPopup=document.querySelector(".modal-map"),closeMap=mapPopup.querySelector(".modal__btn-close");map.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"))})}var promoSlides=document.querySelectorAll(".active-card"),prevSlide=document.querySelector(".active-card__icon-left"),nextSlide=document.querySelector(".active-card__icon-right"),promoRadioButtons=document.querySelectorAll(".slider-controls__nav");if(promoSlides&&prevSlide&&nextSlide&&promoRadioButtons){var currentPromoSlider=0,setSlide=function(e){promoSlides.forEach(function(t,o){o===e?t.classList.add("active-card__show"):t.classList.remove("active-card__show")})};prevSlide.addEventListener("click",function(e){e.preventDefault(),(currentPromoSlider-=1)<0&&(currentPromoSlider=promoSlides.length-1),setSlide(currentPromoSlider)}),nextSlide.addEventListener("click",function(e){e.preventDefault(),(currentPromoSlider+=1)>=promoSlides.length&&(currentPromoSlider=0),setSlide(currentPromoSlider)}),promoRadioButtons.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),setSlide(currentPromoSlider=t)})})}var serviceButtons=document.querySelectorAll(".service-slider__btn"),serviceSlides=document.querySelectorAll(".slider-description__list");if(serviceButtons&&serviceSlides){var currentServiceSlider=0;serviceButtons.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),serviceButtons[currentServiceSlider].classList.remove("indicator-active-btn"),serviceButtons[currentServiceSlider=t].classList.add("indicator-active-btn"),serviceSlides.forEach(function(e,o){t===o?e.classList.remove("visually-hidden"):e.classList.add("visually-hidden")})})})}var basketPopup=document.querySelector(".modal-basket");if(basketPopup){var closeBasket=basketPopup.querySelector(".modal__btn-close"),continueShop=basketPopup.querySelector(".modal-basket__btn--white");closeBasket.addEventListener("click",function(e){e.preventDefault(),basketPopup.classList.remove("modal-show")}),continueShop.addEventListener("click",function(e){e.preventDefault(),basketPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&basketPopup.classList.contains("modal-show")&&(e.preventDefault(),basketPopup.classList.remove("modal-show"))})}var bookmark=document.querySelector(".header-page__btn-bookmark"),bookmarkContent=bookmark.querySelector("span > span"),basket=document.querySelector(".header-page__btn-basket"),basketContent=basket.querySelector("span > span"),itemCards=document.querySelectorAll(".product-card__btn");if(bookmark&&bookmarkContent&&basket&&basketContent&&itemCards){var basketItems=0,bookmarkItems=0;itemCards.forEach(function(e,t){var o=e.querySelectorAll("a");o[0].addEventListener("click",function(e){e.preventDefault(),basketItems+=1,basket.classList.add("header-page__btn-full"),basketContent.innerHTML=basketItems,basketPopup.classList.add("modal-show")}),o[1].addEventListener("click",function(e){e.preventDefault(),bookmarkItems+=1,bookmark.classList.add("header-page__btn-full"),bookmarkContent.innerHTML=bookmarkItems})})}var feedback=document.querySelector(".travel-list__btn-map"),feedbackPopup=document.querySelector(".modal-feedback");if(feedback&&feedbackPopup){var feedbackFrom=feedbackPopup.querySelector(".modal-feedback__form"),feedbackName=feedbackPopup.querySelector('.modal-feedback__text[name="user-name"]'),feedbackEmail=feedbackPopup.querySelector('.modal-feedback__text[name="user-email"]'),feedbackText=feedbackPopup.querySelector('.modal-feedback__text[name="user-text"]'),feedbackClose=feedbackPopup.querySelector(".modal__btn-close");feedback.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("modal-show")}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("modal-show"),feedbackPopup.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackPopup.classList.contains("modal-show")&&(e.preventDefault(),feedbackPopup.classList.remove("modal-show"),feedbackPopup.classList.remove("modal-error"))}),feedbackFrom.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackText.value||(e.preventDefault(),feedbackPopup.classList.add("modal-error"),feedbackPopup.style.animation="none",feedbackPopup.offsetHeight,feedbackPopup.style.animation=null)})}
